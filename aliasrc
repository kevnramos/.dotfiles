#!/bin/env bash

# add colors to ls
os=$(uname)
case $os in
    MING*) alias ls='ls --color=auto' ;;
    Linux) alias ls='ls --color-auto';;
    Darwin) alias ls='ls -G' ;;
    *) alias ls='ls --color=auto' ;;
esac

# ls options
alias l='ls -F'
alias lR='ls -FR'
alias la='ls -a'
alias ll='ls -l'
alias llR='ls -lR'
alias llf='ll -F'
alias lll='ls -al'
alias lllR='ls -alR'
alias lllf='lll -F'

# show hidden files
alias l.='ls -d1 .*'

# make grep show colors
alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'

# my aliases
# alias sshb='ssh debian@192.168.1.104'
# alias sshbu='ssh debian@192.168.7.2'
# alias sshbi='ssh debian@99.0.60.235 -p 22'
alias sshc='ssh culver9'
alias ssh115c='ssh -X culver@eeapps.seas.ucla.edu'

# c is now clear
alias c='clear'
# e is exit
alias e='exit'

# alias for quick changing directories
alias ghub='cd ~/GitHub/'
alias ucla='cd ~/Documents/ucla/4th\ yr/1st\ qtr'
alias desk='cd ~/Desktop/'
alias doc='cd ~/Documents/'
alias down='cd ~/Downloads/'
alias dot='cd ~/.dotfiles/'
alias vol='cd /Volumes/'

# X11 forwarding
# export DISPLAY=:0

# alias to output path
alias path='echo $PATH | tr : \\n | sort'
alias pathu='path | uniq -c'

# alias to output fpath
alias fpath='echo $FPATH | tr : \\n | sort'
alias fpathu='fpath | uniq -c'

# NETWORKING ALIASES
# start a simple http server
sserver() {
    local p=8080
    if [ "$#" -eq 1 ]; then
        p=$1
    fi
    printf "http://%s:%s\n" $(hostname) $p && sudo python3 -m http.server $p
}
# get local ip
alias localip='ipconfig getifaddr en0'
# mac addresses
alias macaddrs='arp -a'

# keep display awake
alias nosleep='caffeinate -d'

# brew deps tree
alias bdt='brew deps --tree --installed'

# update brew bundle
alias bbd='brew bundle dump --force --describe --file=~/.dotfiles/Brewfile'

# replace cat with bat
case $os in
    Darwin) command -v bat >/dev/null && alias cat='bat' ;;
esac

# update and clean up packages on mac
macupdate() {
    echo "=====deactivating conda env=====" | fmt -c -w $COLUMNS &&
    conda deactivate &&
    echo "=====brew commands=====" | fmt -c -w $COLUMNS &&
    brew upgrade &&
    brew cleanup --prune=all &&
    brew doctor &&
    echo "=====conda commands=====" | fmt -c -w $COLUMNS &&
    conda activate &&
    conda update --all -y &&
    conda clean --all -y &&
    echo "=====success=====" | fmt -c -w $COLUMNS
}
